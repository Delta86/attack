<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mock Ransomware - Demo</title>
<style>
  :root{
    --bg:#0b0b0f; --card:#0f1115; --accent:#e23b3b; --muted:#bfc3c8;
    --glass: rgba(255,255,255,0.03);
    font-family: Inter, Roboto, system-ui, -apple-system, Arial, sans-serif;
  }
  html,body{height:100%; margin:0; background:linear-gradient(180deg,#07070a, #0f0f13); color:#fff}
  .wrap{max-width:980px;margin:2rem auto;padding:1.25rem;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));box-shadow:0 6px 30px rgba(0,0,0,0.6)}
  header{display:flex;gap:1rem;align-items:center}
  .logo{width:72px;height:72px;border-radius:8px;background:linear-gradient(135deg,var(--accent), #ff6b6b);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px}
  h1{margin:0;font-size:1.4rem}
  p.lead{color:var(--muted);margin:0.25rem 0 1rem}

  .grid{display:grid;grid-template-columns:1fr 360px;gap:1rem}
  .panel{background:var(--card);padding:1rem;border-radius:10px;box-shadow:inset 0 1px 0 rgba(255,255,255,0.02)}
  .files{max-height:380px;overflow:auto;padding:0.25rem}
  .file{display:flex;justify-content:space-between;align-items:center;padding:0.5rem;border-radius:7px;margin:0.35rem 0;background:var(--glass);font-size:0.95rem}
  .file small{color:var(--muted)}
  .progress{height:8px;background:#111; border-radius:6px;overflow:hidden;margin-top:0.4rem}
  .progress > i{display:block;height:100%;width:0%;background:linear-gradient(90deg,var(--accent), #ff8a8a)}

  .right .box{margin-bottom:1rem}
  .big-amount{font-size:1.6rem;color:var(--accent);font-weight:700}
  .meta{color:var(--muted);font-size:0.9rem;margin-top:0.4rem}
  .countdown{font-weight:700;font-size:1.2rem;color:#ffdcdc}
  .btn{display:inline-block;padding:0.5rem 0.9rem;border-radius:8px;background:var(--accent);color:#fff;text-decoration:none;border:none;cursor:pointer}
  .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}
  .small{font-size:0.85rem;padding:0.35rem 0.6rem}
  footer{color:var(--muted);font-size:0.85rem;margin-top:0.75rem;text-align:center}

  /* responsive */
  @media (max-width:880px){ .grid{grid-template-columns:1fr; } .right{order:2} }
</style>
</head>
<body>
<div class="wrap" role="main" aria-labelledby="title">
  <header>
    <div class="logo" aria-hidden="true">R☠CK</div>
    <div>
      <h1 id="title">!!! YOUR FILES ARE ENCRYPTED !!! (Mock)</h1>
      <p class="lead">This is a harmless mockup for training and demo purposes — no files were harmed.</p>
    </div>
  </header>

  <div class="grid" role="region" aria-label="Main content">
    <section class="panel left" aria-labelledby="files-title">
      <h2 id="files-title">Encrypted files (simulated)</h2>
      <div class="meta">Files shown are fake and for demonstration only.</div>

      <div class="files" id="filesList" aria-live="polite">
        <!-- JavaScript will populate fake file entries here -->
      </div>

      <div style="margin-top:0.8rem">
        <div class="progress" aria-hidden="true"><i id="overallProgress"></i></div>
        <div style="display:flex;justify-content:space-between;margin-top:0.45rem;color:var(--muted)"><span>Encryption progress (simulated)</span><span id="percentLabel">0%</span></div>
      </div>

      <div style="margin-top:0.8rem;display:flex;gap:0.5rem;flex-wrap:wrap">
        <button class="btn small" id="revealBtn">Show ransom note</button>
        <button class="btn ghost small" id="resetBtn">Reset demo state</button>
      </div>
    </section>

    <aside class="panel right" aria-labelledby="ransom-title">
      <h2 id="ransom-title">Ransom instructions (mock)</h2>

      <div class="box">
        <div class="big-amount">Amount: 0.75 BTC (mock)</div>
        <div class="meta">Deadline:</div>
        <div class="countdown" id="countdown">—:—:—</div>
      </div>

      <div class="box">
        <strong>What happened?</strong>
        <p class="meta">Your files were “encrypted” in this simulation. To recover them enter the valid demo key below.</p>

        <label for="demoKey" class="meta" style="display:block;margin-top:0.45rem">Enter demo key:</label>
        <input id="demoKey" placeholder="DEMO-KEY-1234" style="width:100%;padding:0.45rem;border-radius:6px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#fff" />
        <div style="display:flex;gap:0.5rem;margin-top:0.6rem">
          <button id="decryptBtn" class="btn small">Attempt decrypt (simulated)</button>
          <button id="hintBtn" class="btn ghost small">Show demo key</button>
        </div>

        <div id="decryptMsg" style="margin-top:0.6rem;color:var(--muted)"></div>
      </div>

      <div class="box">
        <strong>Contact (mock)</strong>
        <p class="meta">Contact: support@example (mock)</p>
        <p class="meta">Note: This demo will never request real payment.</p>
      </div>
    </aside>
  </div>

  <footer>
    <small>Demo only — for authorized training and UX testing. Do not use on production systems.</small>
  </footer>
</div>

<script>
/*
  Mock ransomware UI script — harmless.
  - Populates fake file list
  - Simulates progress and countdown
  - "Decrypt" checks a demo key and restores UI (no real decryption)
*/

(function(){
  const filesList = document.getElementById('filesList');
  const overallProgress = document.getElementById('overallProgress');
  const percentLabel = document.getElementById('percentLabel');
  const countdownEl = document.getElementById('countdown');
  const decryptBtn = document.getElementById('decryptBtn');
  const hintBtn = document.getElementById('hintBtn');
  const decryptMsg = document.getElementById('decryptMsg');
  const revealBtn = document.getElementById('revealBtn');
  const resetBtn = document.getElementById('resetBtn');
  const demoKeyInput = document.getElementById('demoKey');

  // Fake dataset
  const fakeFiles = [
    "project-plan.docx","family-photos.zip","Q3-revenue.xlsx","notes.txt","presentation-final.pptx",
    "db_backup_2025-09-01.sql","resume.pdf","design.sketch","video_interview.mp4","todo-list.txt",
    "client-contract.pdf","scripts.tar.gz","personal_journal.docx","photoshoot_raw.cr2","archive_01.rar"
  ];

  // Demo "correct" key (only for UI simulation)
  const DEMO_KEY = "DEMO-KEY-1234";

  // Initialize UI
  function init(){
    filesList.innerHTML = "";
    fakeFiles.forEach((name, i) => {
      const node = document.createElement('div');
      node.className = 'file';
      // show obfuscated name to simulate encryption
      const obf = obfuscateName(name);
      node.innerHTML = `<div><strong>${obf}</strong><div style="margin-top:4px"><small>Type: ${detectType(name)}</small></div></div>
                        <div style="text-align:right"><small>Size: ${randSize()}</small><div style="margin-top:6px"><small id="fprog-${i}">0%</small></div></div>`;
      filesList.appendChild(node);
    });
    setProgress(0);
    startSimulation();
  }

  function obfuscateName(n){ // mildly obfuscate; does not touch disk
    const ext = n.includes('.') ? n.split('.').pop() : '';
    const base = n.replace(/\.[^/.]+$/, '').slice(0,8);
    return base + "_ENCRYPTED." + ext;
  }
  function detectType(n){
    const ext = n.split('.').pop().toLowerCase();
    const map = {docx:'Document',pdf:'PDF',zip:'Archive',xlsx:'Spreadsheet',pptx:'Presentation',mp4:'Video',sql:'SQL Dump',rar:'Archive',tar:'Archive',gz:'Archive',cr2:'Image RAW'};
    return map[ext] || 'File';
  }
  function randSize(){ return (Math.floor(Math.random()*900)+50) + " KB"; }

  // Simulated encryption progress
  let simPercent = 0, simInterval=null;

  function startSimulation(){
    simPercent = 0;
    if(simInterval) clearInterval(simInterval);
    simInterval = setInterval(()=> {
      if(simPercent >= 100){ clearInterval(simInterval); return; }
      simPercent += Math.floor(Math.random()*6)+3; // +3..8%
      if(simPercent > 100) simPercent = 100;
      setProgress(simPercent);
      // update per-file label randomly to feel alive
      const files = filesList.querySelectorAll('.file');
      files.forEach((f, idx) => {
        const label = f.querySelector(`#fprog-${idx}`);
        if(label) {
          const v = Math.min(100, Math.max(0, Math.floor(simPercent - (idx*3) + (Math.random()*8))));
          label.textContent = v + "%";
        }
      });
    }, 850);
  }

  function setProgress(p){
    overallProgress.style.width = p + "%";
    percentLabel.textContent = Math.floor(p) + "%";
  }

  // Countdown timer (mock deadline 48 hours from page load)
  const deadline = Date.now() + (48*3600*1000); // 48 hours
  function tickCountdown(){
    const diff = Math.max(0, deadline - Date.now());
    const hrs = Math.floor(diff / (3600*1000));
    const mins = Math.floor((diff % (3600*1000)) / (60*1000));
    const secs = Math.floor((diff % (60*1000)) / 1000);
    countdownEl.textContent = `${pad(hrs)}:${pad(mins)}:${pad(secs)}`;
    if(diff === 0) clearInterval(countdownTimer);
  }
  function pad(n){ return String(n).padStart(2,'0'); }
  const countdownTimer = setInterval(tickCountdown, 1000);
  tickCountdown();

  // Buttons
  decryptBtn.addEventListener('click', () => {
    const val = demoKeyInput.value.trim();
    if(!val){
      decryptMsg.textContent = "Please enter a demo key (for demo use only).";
      decryptMsg.style.color = "var(--muted)";
      return;
    }
    // simulate validation delay
    decryptMsg.textContent = "Validating key…";
    decryptMsg.style.color = "var(--muted)";
    setTimeout(()=> {
      if(val === DEMO_KEY){
        decryptSuccess();
      } else {
        decryptMsg.textContent = "Invalid key (this is a demo). Try 'Show demo key' for the correct value.";
        decryptMsg.style.color = "#ffdcdc";
      }
    }, 900);
  });

  hintBtn.addEventListener('click', () => {
    demoKeyInput.value = DEMO_KEY;
    decryptMsg.textContent = "Demo key filled in (for demo use only).";
    decryptMsg.style.color = "var(--muted)";
  });

  revealBtn.addEventListener('click', () => {
    alert("RANSOM_NOTE (mock): Send the mock amount to the mock wallet. This is a harmless demo screen.");
  });

  resetBtn.addEventListener('click', () => {
    if(simInterval) clearInterval(simInterval);
    init();
    decryptMsg.textContent = "";
    demoKeyInput.value = "";
  });

  function decryptSuccess(){
    decryptMsg.textContent = "Key accepted (demo). Restoring files (simulated)…";
    decryptMsg.style.color = "#b8ffcf";
    // animate restoration (simulate)
    let p = 100;
    const restore = setInterval(()=> {
      p -= 8;
      setProgress(Math.max(0, p));
      // per-file text revert to original-ish names
      const files = filesList.querySelectorAll('.file');
      files.forEach((f, idx) => {
        const name = fakeFiles[idx];
        const label = f.querySelector(`#fprog-${idx}`);
        if(label) label.textContent = Math.max(0, p + (idx*2)) + "%";
        f.querySelector('strong').textContent = name;
      });
      if(p <= 0){
        clearInterval(restore);
        decryptMsg.textContent = "All files restored (simulation complete).";
        decryptMsg.style.color = "#b8ffcf";
        setProgress(0);
      }
    }, 450);
  }

  // init
  init();

  // accessibility: focus first input
  demoKeyInput.focus();

})();
</script>
</body>
</html>
